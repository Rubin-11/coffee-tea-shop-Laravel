# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Coffee-Tea Shop

**–°–£–ë–î:** PostgreSQL 18  
**–ö–æ–¥–∏—Ä–æ–≤–∫–∞:** UTF-8  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-02-07

---

## üìä ERD –î–∏–∞–≥—Ä–∞–º–º–∞

**–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º—É:** `../src/database/UML.drawio` (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ draw.io)

–î–∏–∞–≥—Ä–∞–º–º–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏, –ø–æ–ª—è–º–∏ –∏ —Å–≤—è–∑—è–º–∏.

---

## üìã –¢–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### 1. **users** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø–æ–∫—É–ø–∞—Ç–µ–ª–∏ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã)

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | BIGINT PK | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `first_name` | VARCHAR(255) | –ò–º—è |
| `last_name` | VARCHAR(255) | –§–∞–º–∏–ª–∏—è |
| `email` | VARCHAR(255) UK | Email (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π) |
| `phone` | VARCHAR(20) NULL | –¢–µ–ª–µ—Ñ–æ–Ω |
| `password` | VARCHAR(255) | –•–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å |
| `is_admin` | BOOLEAN | –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º |
| `is_active` | BOOLEAN | –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –∞–∫–∫–∞—É–Ω—Ç |
| `remember_token` | VARCHAR(100) NULL | –¢–æ–∫–µ–Ω –¥–ª—è "–∑–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è" |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–°–≤—è–∑–∏:**
- `hasMany` ‚Üí orders (–∑–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- `hasMany` ‚Üí reviews (–æ—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- `hasMany` ‚Üí addresses (–∞–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏)
- `hasMany` ‚Üí cart_items (–∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- `hasMany` ‚Üí blog_posts (—Å—Ç–∞—Ç—å–∏, –µ—Å–ª–∏ –∞–≤—Ç–æ—Ä)

---

### 2. **categories** - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–¥–µ—Ä–µ–≤–æ)

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | BIGINT PK | ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| `parent_id` | BIGINT FK NULL | ID —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| `name` | VARCHAR(255) | –ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ö–æ—Ñ–µ", "–ê—Ä–∞–±–∏–∫–∞") |
| `slug` | VARCHAR(255) UK | URL-friendly –∏–º—è |
| `description` | TEXT NULL | –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| `image_path` | VARCHAR(500) NULL | –ü—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é |
| `is_active` | BOOLEAN | –ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è |
| `sort_order` | INT | –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ |
| `meta_title` | VARCHAR(255) NULL | SEO –∑–∞–≥–æ–ª–æ–≤–æ–∫ |
| `meta_description` | TEXT NULL | SEO –æ–ø–∏—Å–∞–Ω–∏–µ |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–°–≤—è–∑–∏:**
- `belongsTo` ‚Üí categories (parent) - —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- `hasMany` ‚Üí categories (children) - –¥–æ—á–µ—Ä–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `hasMany` ‚Üí products - —Ç–æ–≤–∞—Ä—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

---

### 3. **products** - –¢–æ–≤–∞—Ä—ã

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ (–∫–æ—Ñ–µ, —á–∞–π, –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã)

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | BIGINT PK | ID —Ç–æ–≤–∞—Ä–∞ |
| `category_id` | BIGINT FK | ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| `name` | VARCHAR(255) | –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ |
| `slug` | VARCHAR(255) UK | URL-friendly –∏–º—è |
| `description` | TEXT | –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |
| `long_description` | TEXT NULL | –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |
| `price` | DECIMAL(10,2) | –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ |
| `old_price` | DECIMAL(10,2) NULL | –°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ (–¥–ª—è —Å–∫–∏–¥–æ–∫) |
| `weight` | INT | –í–µ—Å –≤ –≥—Ä–∞–º–º–∞—Ö (250, 500, 1000) |
| `sku` | VARCHAR(100) UK | –ê—Ä—Ç–∏–∫—É–ª (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π) |
| `stock` | INT | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ |
| `rating` | DECIMAL(3,2) | –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ (0.00 - 5.00) |
| `reviews_count` | INT | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤ |
| `bitterness_percent` | INT NULL | –ü—Ä–æ—Ü–µ–Ω—Ç –≥–æ—Ä—á–∏–Ω–∫–∏ (0-10, –¥–ª—è –∫–æ—Ñ–µ) |
| `acidity_percent` | INT NULL | –ü—Ä–æ—Ü–µ–Ω—Ç –∫–∏—Å–ª–∏–Ω–∫–∏ (0-10, –¥–ª—è –∫–æ—Ñ–µ) |
| `is_featured` | BOOLEAN | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ç–æ–≤–∞—Ä |
| `is_available` | BOOLEAN | –î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–∫–∞–∑–∞ |
| `meta_title` | VARCHAR(255) NULL | SEO –∑–∞–≥–æ–ª–æ–≤–æ–∫ |
| `meta_description` | TEXT NULL | SEO –æ–ø–∏—Å–∞–Ω–∏–µ |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |
| `deleted_at` | TIMESTAMP NULL | Soft delete |

**–°–≤—è–∑–∏:**
- `belongsTo` ‚Üí categories - –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–æ–≤–∞—Ä–∞
- `hasMany` ‚Üí product_images - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
- `hasMany` ‚Üí reviews - –æ—Ç–∑—ã–≤—ã –Ω–∞ —Ç–æ–≤–∞—Ä
- `hasMany` ‚Üí cart_items - –ø–æ–∑–∏—Ü–∏–∏ –≤ –∫–æ—Ä–∑–∏–Ω–∞—Ö
- `hasMany` ‚Üí order_items - –ø–æ–∑–∏—Ü–∏–∏ –≤ –∑–∞–∫–∞–∑–∞—Ö
- `belongsToMany` ‚Üí tags (—á–µ—Ä–µ–∑ product_tag) - —Ç–µ–≥–∏ —Ç–æ–≤–∞—Ä–∞

**–ò–Ω–¥–µ–∫—Å—ã:**
- `category_id` - –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- `is_available, is_featured` - –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `slug` - –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ URL

---

### 4. **product_images** - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | BIGINT PK | ID –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| `product_id` | BIGINT FK | ID —Ç–æ–≤–∞—Ä–∞ |
| `image_path` | VARCHAR(500) | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É |
| `is_primary` | BOOLEAN | –ì–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ |
| `sort_order` | INT | –ü–æ—Ä—è–¥–æ–∫ –≤ –≥–∞–ª–µ—Ä–µ–µ |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏ |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–°–≤—è–∑–∏:**
- `belongsTo` ‚Üí products - —Ç–æ–≤–∞—Ä

---

### 5. **orders** - –ó–∞–∫–∞–∑—ã

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–∫–∞–∑–∞—Ö –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | BIGINT PK | ID –∑–∞–∫–∞–∑–∞ |
| `user_id` | BIGINT FK NULL | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (NULL –¥–ª—è –≥–æ—Å—Ç–µ–π) |
| `address_id` | BIGINT FK NULL | ID –∞–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ |
| `order_number` | VARCHAR(50) UK | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ |
| `status` | VARCHAR(50) | –°—Ç–∞—Ç—É—Å (pending, processing, shipped, delivered, cancelled) |
| `payment_method` | VARCHAR(50) | –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã (card, cash, online) |
| `delivery_method` | VARCHAR(50) | –°–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏ (courier, pickup, post) |
| `subtotal` | DECIMAL(10,2) | –°—É–º–º–∞ —Ç–æ–≤–∞—Ä–æ–≤ |
| `delivery_cost` | DECIMAL(10,2) | –°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ |
| `total` | DECIMAL(10,2) | –û–±—â–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞ |
| `customer_name` | VARCHAR(255) | –ò–º—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è |
| `customer_email` | VARCHAR(255) | Email –ø–æ–∫—É–ø–∞—Ç–µ–ª—è |
| `customer_phone` | VARCHAR(20) | –¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–∫—É–ø–∞—Ç–µ–ª—è |
| `notes` | TEXT NULL | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–°–≤—è–∑–∏:**
- `belongsTo` ‚Üí users - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–µ—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)
- `belongsTo` ‚Üí addresses - –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏
- `hasMany` ‚Üí order_items - –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞

---

### 6. **order_items** - –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–æ–≤–∞—Ä—ã –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∑–∞–∫–∞–∑–µ

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | BIGINT PK | ID –ø–æ–∑–∏—Ü–∏–∏ |
| `order_id` | BIGINT FK | ID –∑–∞–∫–∞–∑–∞ |
| `product_id` | BIGINT FK | ID —Ç–æ–≤–∞—Ä–∞ |
| `product_name` | VARCHAR(255) | –ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞ –º–æ–º–µ–Ω—Ç –∑–∞–∫–∞–∑–∞) |
| `product_sku` | VARCHAR(100) | –ê—Ä—Ç–∏–∫—É–ª (–Ω–∞ –º–æ–º–µ–Ω—Ç –∑–∞–∫–∞–∑–∞) |
| `price` | DECIMAL(10,2) | –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è) |
| `quantity` | INT | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
| `subtotal` | DECIMAL(10,2) | –°—É–º–º–∞ (price * quantity) |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–°–≤—è–∑–∏:**
- `belongsTo` ‚Üí orders - –∑–∞–∫–∞–∑
- `belongsTo` ‚Üí products - —Ç–æ–≤–∞—Ä (–¥–ª—è —Å—Å—ã–ª–∫–∏)

---

### 7. **cart_items** - –ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ (–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≥–æ—Å—Ç–µ–π)

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | BIGINT PK | ID –ø–æ–∑–∏—Ü–∏–∏ –∫–æ—Ä–∑–∏–Ω—ã |
| `user_id` | BIGINT FK NULL | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (NULL –¥–ª—è –≥–æ—Å—Ç–µ–π) |
| `session_id` | VARCHAR(255) NULL | ID —Å–µ—Å—Å–∏–∏ (–¥–ª—è –≥–æ—Å—Ç–µ–π) |
| `product_id` | BIGINT FK | ID —Ç–æ–≤–∞—Ä–∞ |
| `quantity` | INT | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
| `price` | DECIMAL(10,2) | –¶–µ–Ω–∞ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –º–æ–º–µ–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è) |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–°–≤—è–∑–∏:**
- `belongsTo` ‚Üí users - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `belongsTo` ‚Üí products - —Ç–æ–≤–∞—Ä

**–ò–Ω–¥–µ–∫—Å—ã:**
- `user_id` - –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `session_id` - –¥–ª—è –≥–æ—Å—Ç–µ–π

---

### 8. **reviews** - –û—Ç–∑—ã–≤—ã –Ω–∞ —Ç–æ–≤–∞—Ä—ã

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –∫—É–ø–ª–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | BIGINT PK | ID –æ—Ç–∑—ã–≤–∞ |
| `product_id` | BIGINT FK | ID —Ç–æ–≤–∞—Ä–∞ |
| `user_id` | BIGINT FK | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `rating` | INT | –û—Ü–µ–Ω–∫–∞ (1-5) |
| `title` | VARCHAR(255) | –ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç–∑—ã–≤–∞ |
| `comment` | TEXT | –¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞ |
| `is_approved` | BOOLEAN | –û–¥–æ–±—Ä–µ–Ω –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–°–≤—è–∑–∏:**
- `belongsTo` ‚Üí products - —Ç–æ–≤–∞—Ä
- `belongsTo` ‚Üí users - –∞–≤—Ç–æ—Ä –æ—Ç–∑—ã–≤–∞

**–ò–Ω–¥–µ–∫—Å—ã:**
- `product_id, is_approved` - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤

---

### 9. **addresses** - –ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | BIGINT PK | ID –∞–¥—Ä–µ—Å–∞ |
| `user_id` | BIGINT FK | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `address_line_1` | VARCHAR(255) | –ê–¥—Ä–µ—Å (–æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–æ–∫–∞) |
| `address_line_2` | VARCHAR(255) NULL | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ |
| `city` | VARCHAR(100) | –ì–æ—Ä–æ–¥ |
| `postal_code` | VARCHAR(20) | –ü–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å |
| `country` | VARCHAR(100) | –°—Ç—Ä–∞–Ω–∞ |
| `is_default` | BOOLEAN | –ê–¥—Ä–µ—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–°–≤—è–∑–∏:**
- `belongsTo` ‚Üí users - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

---

### 10. **blog_posts** - –°—Ç–∞—Ç—å–∏ –±–ª–æ–≥–∞

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë–ª–æ–≥ –æ –∫–æ—Ñ–µ, —á–∞–µ, —Ä–µ—Ü–µ–ø—Ç–∞—Ö

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | BIGINT PK | ID —Å—Ç–∞—Ç—å–∏ |
| `author_id` | BIGINT FK | ID –∞–≤—Ç–æ—Ä–∞ (User) |
| `title` | VARCHAR(255) | –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏ |
| `slug` | VARCHAR(255) UK | URL-friendly –∏–º—è |
| `excerpt` | TEXT | –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ |
| `content` | TEXT | –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏ |
| `featured_image` | VARCHAR(500) NULL | –ì–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ |
| `is_published` | BOOLEAN | –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ –ª–∏ —Å—Ç–∞—Ç—å—è |
| `published_at` | TIMESTAMP NULL | –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ |
| `views_count` | INT | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ |
| `meta_title` | VARCHAR(255) NULL | SEO –∑–∞–≥–æ–ª–æ–≤–æ–∫ |
| `meta_description` | TEXT NULL | SEO –æ–ø–∏—Å–∞–Ω–∏–µ |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–°–≤—è–∑–∏:**
- `belongsTo` ‚Üí users (author) - –∞–≤—Ç–æ—Ä
- `belongsToMany` ‚Üí tags (—á–µ—Ä–µ–∑ blog_post_tag) - —Ç–µ–≥–∏ —Å—Ç–∞—Ç—å–∏

---

### 11. **tags** - –¢–µ–≥–∏

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–µ–≥–∏ –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Å—Ç–∞—Ç–µ–π –±–ª–æ–≥–∞

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | BIGINT PK | ID —Ç–µ–≥–∞ |
| `name` | VARCHAR(100) UK | –ù–∞–∑–≤–∞–Ω–∏–µ ("–ù–æ–≤–∏–Ω–∫–∞", "–ê–∫—Ü–∏—è", "–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–π") |
| `slug` | VARCHAR(100) UK | URL-friendly –∏–º—è |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–°–≤—è–∑–∏:**
- `belongsToMany` ‚Üí products (—á–µ—Ä–µ–∑ product_tag)
- `belongsToMany` ‚Üí blog_posts (—á–µ—Ä–µ–∑ blog_post_tag)

---

### 12. **subscribers** - –ü–æ–¥–ø–∏—Å—á–∏–∫–∏ —Ä–∞—Å—Å—ã–ª–∫–∏

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Email-–∞–¥—Ä–µ—Å–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –Ω–∞ –Ω–æ–≤–æ—Å—Ç–∏ –∏ –∞–∫—Ü–∏–∏

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | BIGINT PK | ID –ø–æ–¥–ø–∏—Å—á–∏–∫–∞ |
| `email` | VARCHAR(255) UK | Email |
| `token` | VARCHAR(100) UK | –¢–æ–∫–µ–Ω –¥–ª—è –æ—Ç–ø–∏—Å–∫–∏ |
| `is_active` | BOOLEAN | –ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ –ø–æ–¥–ø–∏—Å–∫–∞ |
| `subscribed_at` | TIMESTAMP | –î–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∫–∏ |
| `unsubscribed_at` | TIMESTAMP NULL | –î–∞—Ç–∞ –æ—Ç–ø–∏—Å–∫–∏ |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

---

## üîó –°–≤—è–∑—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã (Many-to-Many)

### **product_tag** - –°–≤—è–∑—å —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Ç–µ–≥–æ–≤

| –ü–æ–ª–µ | –¢–∏–ø |
|------|-----|
| `product_id` | BIGINT FK |
| `tag_id` | BIGINT FK |
| `created_at` | TIMESTAMP |
| `updated_at` | TIMESTAMP |

### **blog_post_tag** - –°–≤—è–∑—å —Å—Ç–∞—Ç–µ–π –±–ª–æ–≥–∞ –∏ —Ç–µ–≥–æ–≤

| –ü–æ–ª–µ | –¢–∏–ø |
|------|-----|
| `blog_post_id` | BIGINT FK |
| `tag_id` | BIGINT FK |
| `created_at` | TIMESTAMP |
| `updated_at` | TIMESTAMP |

---

## üìà –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**

```sql
-- Products (–Ω–∞–∏–±–æ–ª–µ–µ –≤–∞–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)
CREATE INDEX idx_products_category_available ON products(category_id, is_available);
CREATE INDEX idx_products_featured_available ON products(is_featured, is_available);
CREATE INDEX idx_products_created_at ON products(created_at DESC);

-- Orders
CREATE INDEX idx_orders_user_status ON orders(user_id, status);
CREATE INDEX idx_orders_created_at ON orders(created_at DESC);

-- Reviews
CREATE INDEX idx_reviews_product_approved ON reviews(product_id, is_approved);

-- Cart Items
CREATE INDEX idx_cart_items_user ON cart_items(user_id);
CREATE INDEX idx_cart_items_session ON cart_items(session_id);
```

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏–∏

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/database/migrations/`

**–ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
1. users
2. categories
3. products
4. product_images
5. addresses
6. orders
7. order_items
8. cart_items
9. reviews
10. blog_posts
11. tags
12. product_tag, blog_post_tag
13. subscribers

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
php artisan migrate              # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏
php artisan migrate:rollback     # –û—Ç–∫–∞—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –±–∞—Ç—á
php artisan migrate:fresh --seed # –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ë–î —Å —Å–∏–¥–µ—Ä–∞–º–∏
```

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `BIGINT` –¥–ª—è ID (–¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏)
- –¶–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `DECIMAL(10,2)` –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏
- Timestamps (`created_at`, `updated_at`) –µ—Å—Ç—å –≤–æ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
- –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (`deleted_at`) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `products`
- –ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ç–∞–∫ –∏ –≥–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ `session_id`
