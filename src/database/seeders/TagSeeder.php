<?php

namespace Database\Seeders;

use App\Models\Tag;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Illuminate\Support\Str;

/**
 * Seeder –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ–≥–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤
 * 
 * –¢–µ–≥–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏,
 * –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤–ª–µ–∫–∞—é—Ç –≤–Ω–∏–º–∞–Ω–∏–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –∏ –ø–æ–º–æ–≥–∞—é—Ç –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
 * –ü—Ä–∏–º–µ—Ä—ã: "–ù–æ–≤–∏–Ω–∫–∞", "–•–∏—Ç –ø—Ä–æ–¥–∞–∂", "–ê–∫—Ü–∏—è", "–ü—Ä–µ–º–∏—É–º"
 * 
 * –û–¥–∏–Ω —Ç–æ–≤–∞—Ä –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ–≥–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (many-to-many —Å–≤—è–∑—å)
 */
class TagSeeder extends Seeder
{
    use WithoutModelEvents;

    /**
     * –ó–∞–ø—É—Å–∫ seeder'–∞ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ–≥–æ–≤
     * 
     * –°–æ–∑–¥–∞–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∏–∑ 10 —Ç–µ–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
     * –¥–ª—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –º–∞–≥–∞–∑–∏–Ω–µ –∫–æ—Ñ–µ –∏ —á–∞—è.
     */
    public function run(): void
    {
        $this->command->info('üè∑Ô∏è  –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤...');

        // –ú–∞—Å—Å–∏–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤—Å–µ—Ö —Ç–µ–≥–æ–≤ –º–∞–≥–∞–∑–∏–Ω–∞
        // –ö–∞–∂–¥—ã–π —Ç–µ–≥ –∏–º–µ–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
        $tagsData = [
            [
                'name' => '–ù–æ–≤–∏–Ω–∫–∞',
                'description' => '–ù–æ–≤—ã–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–µ–¥–µ–ª–∏',
            ],
            [
                'name' => '–•–∏—Ç –ø—Ä–æ–¥–∞–∂',
                'description' => '–°–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã —Å –≤—ã—Å–æ–∫–∏–º —Ä–µ–π—Ç–∏–Ω–≥–æ–º –∏ –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ–∫—É–ø–æ–∫',
            ],
            [
                'name' => '–ê–∫—Ü–∏—è',
                'description' => '–¢–æ–≤–∞—Ä—ã —Å–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ –∏ —Å–∫–∏–¥–∫–∞–º–∏',
            ],
            [
                'name' => '–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ',
                'description' => '–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—â–µ –≤—Å–µ–≥–æ –≤—ã–±–∏—Ä–∞—é—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏',
            ],
            [
                'name' => '–ù–æ–≤—ã–π —É—Ä–æ–∂–∞–π',
                'description' => '–ö–æ—Ñ–µ –∏ —á–∞–π –Ω–æ–≤–æ–≥–æ —É—Ä–æ–∂–∞—è —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–≤–µ–∂–µ—Å—Ç—å—é',
            ],
            [
                'name' => '–í–∞—à –≤—ã–±–æ—Ä',
                'description' => '–¢–æ–≤–∞—Ä—ã, –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ –∫–∞–∫ –ª—é–±–∏–º—ã–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è–º–∏',
            ],
            [
                'name' => '–ú–∏–∫—Ä–æ–ª–æ—Ç',
                'description' => '–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –º–∏–∫—Ä–æ–ª–æ—Ç—ã –∫–æ—Ñ–µ –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ',
            ],
            [
                'name' => '–°–æ—Ä—Ç –Ω–µ–¥–µ–ª–∏',
                'description' => '–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏ - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–æ—Ä—Ç',
            ],
            [
                'name' => '–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–π',
                'description' => '–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ —á–∏—Å—Ç—ã–µ —Ç–æ–≤–∞—Ä—ã, –≤—ã—Ä–∞—â–µ–Ω–Ω—ã–µ –±–µ–∑ —Ö–∏–º–∏—á–µ—Å–∫–∏—Ö —É–¥–æ–±—Ä–µ–Ω–∏–π',
            ],
            [
                'name' => 'Fair Trade',
                'description' => '–¢–æ–≤–∞—Ä—ã —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏',
            ],
            [
                'name' => '–ë–µ–∑ –∫–æ—Ñ–µ–∏–Ω–∞',
                'description' => '–ö–æ—Ñ–µ —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º –∫–æ—Ñ–µ–∏–Ω–æ–º –¥–ª—è –≤–µ—á–µ—Ä–Ω–µ–≥–æ —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è',
            ],
            [
                'name' => '–ü—Ä–µ–º–∏—É–º',
                'description' => '–¢–æ–≤–∞—Ä—ã –ø—Ä–µ–º–∏—É–º-–∫–ª–∞—Å—Å–∞ –≤—ã—Å—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑ —ç–ª–∏—Ç–Ω—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π',
            ],
            [
                'name' => '–°–∫–∏–¥–∫–∞',
                'description' => '–¢–æ–≤–∞—Ä—ã —Å –¥–µ–π—Å—Ç–≤—É—é—â–∏–º–∏ —Å–∫–∏–¥–∫–∞–º–∏ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏',
            ],
            [
                'name' => '–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Å–µ—Ä–∏—è',
                'description' => '–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ',
            ],
            [
                'name' => 'Best Seller',
                'description' => '–ë–µ—Å—Ç—Å–µ–ª–ª–µ—Ä—ã - —Ç–æ–≤–∞—Ä—ã —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø—Ä–æ–¥–∞–∂ –∑–∞ –≤—Å–µ –≤—Ä–µ–º—è',
            ],
            [
                'name' => '–≠–∫—Å–∫–ª—é–∑–∏–≤',
                'description' => '–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—à–µ–º –º–∞–≥–∞–∑–∏–Ω–µ',
            ],
            [
                'name' => '–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º',
                'description' => '–¢–æ–≤–∞—Ä—ã, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏ –∏ –±–∞—Ä–∏—Å—Ç–∞–º–∏',
            ],
        ];

        // –°–æ–∑–¥–∞–µ–º –∫–∞–∂–¥—ã–π —Ç–µ–≥ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
        foreach ($tagsData as $index => $tagData) {
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º slug –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–ª—è SEO-friendly URL
            // –ù–∞–ø—Ä–∏–º–µ—Ä: "–•–∏—Ç –ø—Ä–æ–¥–∞–∂" -> "hit-prodazh"
            $slug = Str::slug($tagData['name']);

            // –°–æ–∑–¥–∞–µ–º —Ç–µ–≥ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
            $tag = Tag::create([
                'name' => $tagData['name'],
                'slug' => $slug,
            ]);

            // –í—ã–≤–æ–¥–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–∑–¥–∞–Ω–Ω–æ–º —Ç–µ–≥–µ –≤ –∫–æ–Ω—Å–æ–ª—å
            $this->command->line("  ‚úì –°–æ–∑–¥–∞–Ω —Ç–µ–≥ #{$tag->id}: {$tagData['name']} (slug: {$slug})");
        }

        // –í—ã–≤–æ–¥–∏–º –∏—Ç–æ–≥–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        $totalTags = Tag::count();
        $this->command->info("‚úÖ –°–æ–∑–¥–∞–Ω–æ —Ç–µ–≥–æ–≤: {$totalTags}");
        $this->command->info('üí° –¢–µ–≥–∏ –≥–æ—Ç–æ–≤—ã –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Ç–æ–≤–∞—Ä–∞–º —á–µ—Ä–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É product_tag');
    }
}
